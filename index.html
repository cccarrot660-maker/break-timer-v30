<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Break Timer V11 PRO ‚Äî break</title>
  <style id="inlined-styles">
/* V11 PRO - Futuristic Dark Theme */
:root {
  --bg-primary: #0a0e1a;
  --bg-secondary: #121725;
  --bg-card: #1a1f35;
  --accent-cyan: #00d4ff;
  --accent-purple: #9d4edd;
  --accent-pink: #ff006e;
  --text-primary: #e8edf4;
  --text-secondary: #8b95a8;
  --border-glow: rgba(0, 212, 255, 0.3);
  --shadow-glow: 0 0 20px rgba(0, 212, 255, 0.15);
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
  background: var(--bg-primary);
  color: var(--text-primary);
  position: relative;
  overflow-x: hidden;
}

body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    linear-gradient(135deg, rgba(157, 78, 221, 0.05) 0%, transparent 50%),
    linear-gradient(45deg, rgba(0, 212, 255, 0.03) 0%, transparent 50%);
  pointer-events: none;
  z-index: 0;
}

/* Animated grid background */
body::after {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: 
    linear-gradient(rgba(0, 212, 255, 0.05) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0, 212, 255, 0.05) 1px, transparent 1px);
  background-size: 50px 50px;
  pointer-events: none;
  z-index: 0;
}

.topbar {
  position: relative;
  z-index: 10;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 24px 32px;
  background: rgba(18, 23, 37, 0.8);
  backdrop-filter: blur(20px);
  border-bottom: 1px solid rgba(0, 212, 255, 0.2);
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
}

.topbar h1 {
  font-size: 22px;
  font-weight: 700;
  background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  letter-spacing: -0.5px;
}

.lead {
  color: var(--text-secondary);
  font-size: 13px;
  margin-top: 4px;
  letter-spacing: 0.3px;
}

.controls {
  display: flex;
  gap: 12px;
}

.container {
  position: relative;
  z-index: 1;
  display: grid;
  grid-template-columns: 1fr 420px;
  gap: 24px;
  padding: 32px;
  max-width: 1400px;
  margin: 0 auto;
}

.card {
  background: var(--bg-card);
  border: 1px solid rgba(0, 212, 255, 0.15);
  border-radius: 16px;
  padding: 24px;
  box-shadow: var(--shadow-glow);
  margin-bottom: 20px;
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
}

.card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, transparent, var(--accent-cyan), transparent);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.card:hover::before {
  opacity: 1;
}

.card:hover {
  border-color: rgba(0, 212, 255, 0.3);
  box-shadow: 0 0 30px rgba(0, 212, 255, 0.2);
  transform: translateY(-2px);
}

.timer-card {
  padding: 32px;
  background: linear-gradient(135deg, rgba(26, 31, 53, 0.9), rgba(18, 23, 37, 0.9));
}

.timer-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 24px;
  padding-bottom: 16px;
  border-bottom: 1px solid rgba(0, 212, 255, 0.1);
}

.timer-header select {
  background: rgba(0, 212, 255, 0.1);
  border: 1px solid rgba(0, 212, 255, 0.3);
  color: var(--text-primary);
  padding: 10px 16px;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
}

.timer-header select:hover {
  background: rgba(0, 212, 255, 0.2);
  box-shadow: 0 0 15px rgba(0, 212, 255, 0.3);
}

.target {
  display: flex;
  align-items: center;
  gap: 8px;
  color: var(--text-secondary);
}

.target input {
  background: rgba(0, 212, 255, 0.05);
  border: 1px solid rgba(0, 212, 255, 0.2);
  color: var(--text-primary);
  padding: 6px 12px;
  border-radius: 6px;
  font-size: 13px;
  width: 80px;
}

.timer-display {
  text-align: center;
  padding: 40px 24px;
  margin: 24px 0;
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(0, 212, 255, 0.2);
  border-radius: 16px;
  position: relative;
  overflow: hidden;
}

.timer-display::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: conic-gradient(from 0deg, transparent, rgba(0, 212, 255, 0.1), transparent 30deg);
  animation: rotate 8s linear infinite;
  pointer-events: none;
}

@keyframes rotate {
  100% { transform: rotate(360deg); }
}

#timerLabel {
  font-size: 14px;
  color: var(--accent-cyan);
  margin-bottom: 12px;
  text-transform: uppercase;
  letter-spacing: 2px;
  font-weight: 600;
}

#timeLarge {
  font-size: 64px;
  font-weight: 700;
  background: linear-gradient(135deg, #00d4ff, #9d4edd);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  letter-spacing: -2px;
  margin: 16px 0;
  position: relative;
  z-index: 1;
}

.sub {
  color: var(--text-secondary);
  font-size: 13px;
  margin-top: 12px;
}

.timer-actions {
  display: flex;
  gap: 16px;
  justify-content: center;
  margin: 32px 0 24px;
}

button {
  border: none;
  padding: 14px 28px;
  border-radius: 10px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

button::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.1);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

button:hover::before {
  width: 300px;
  height: 300px;
}

button.primary {
  background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
  color: white;
  box-shadow: 0 8px 24px rgba(0, 212, 255, 0.3);
  border: 1px solid rgba(0, 212, 255, 0.5);
}

button.primary:hover {
  box-shadow: 0 12px 32px rgba(0, 212, 255, 0.5);
  transform: translateY(-2px);
}

button.alt {
  background: rgba(157, 78, 221, 0.2);
  color: var(--accent-purple);
  border: 1px solid var(--accent-purple);
}

button.alt:hover {
  background: rgba(157, 78, 221, 0.3);
  box-shadow: 0 8px 24px rgba(157, 78, 221, 0.3);
}

button.warn {
  background: linear-gradient(135deg, #ff006e, #ff4d6d);
  color: white;
  border: 1px solid rgba(255, 0, 110, 0.5);
}

button.warn:hover {
  box-shadow: 0 8px 24px rgba(255, 0, 110, 0.4);
  transform: translateY(-2px);
}

button.ghost {
  background: rgba(0, 212, 255, 0.05);
  color: var(--accent-cyan);
  border: 1px solid rgba(0, 212, 255, 0.3);
  padding: 10px 20px;
}

button.ghost:hover {
  background: rgba(0, 212, 255, 0.15);
  box-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
}

button.danger {
  background: rgba(255, 0, 110, 0.1);
  color: var(--accent-pink);
  border: 1px solid rgba(255, 0, 110, 0.3);
}

button.danger:hover {
  background: rgba(255, 0, 110, 0.2);
  box-shadow: 0 0 20px rgba(255, 0, 110, 0.3);
}

.timer-opts {
  display: flex;
  gap: 16px;
  flex-wrap: wrap;
  align-items: center;
  padding: 20px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 12px;
  border: 1px solid rgba(0, 212, 255, 0.1);
  margin-bottom: 16px;
}

.timer-opts label {
  color: var(--text-secondary);
  font-size: 13px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.timer-opts input[type="number"] {
  background: rgba(0, 212, 255, 0.1);
  border: 1px solid rgba(0, 212, 255, 0.3);
  color: var(--text-primary);
  padding: 8px 12px;
  border-radius: 6px;
  width: 80px;
  font-size: 13px;
}

.timer-opts input[type="checkbox"] {
  width: 18px;
  height: 18px;
  accent-color: var(--accent-cyan);
}

.small {
  font-size: 12px;
  color: var(--text-secondary);
}

.hint {
  padding: 12px;
  background: rgba(157, 78, 221, 0.1);
  border-left: 3px solid var(--accent-purple);
  border-radius: 6px;
  margin-top: 16px;
}

.card-title {
  font-size: 18px;
  font-weight: 700;
  color: var(--accent-cyan);
  margin-bottom: 20px;
  padding-bottom: 12px;
  border-bottom: 1px solid rgba(0, 212, 255, 0.2);
  text-transform: uppercase;
  letter-spacing: 1px;
}

.quick-add .fields {
  display: grid;
  gap: 12px;
}

.quick-add input {
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(0, 212, 255, 0.2);
  color: var(--text-primary);
  padding: 12px 16px;
  border-radius: 8px;
  font-size: 14px;
  transition: all 0.3s ease;
}

.quick-add input:focus {
  outline: none;
  border-color: var(--accent-cyan);
  box-shadow: 0 0 20px rgba(0, 212, 255, 0.2);
}

.quick-add input::placeholder {
  color: var(--text-secondary);
}

.row {
  display: flex;
  gap: 12px;
  align-items: center;
}

.history-card .history-controls {
  display: flex;
  gap: 12px;
  margin-bottom: 20px;
  flex-wrap: wrap;
}

.history-card input[type="date"] {
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(0, 212, 255, 0.2);
  color: var(--text-primary);
  padding: 10px 14px;
  border-radius: 8px;
  font-size: 13px;
}

.logs {
  max-height: 320px;
  overflow-y: auto;
  margin: 20px 0;
  border-radius: 8px;
  background: rgba(0, 0, 0, 0.2);
}

.logs::-webkit-scrollbar {
  width: 8px;
}

.logs::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 4px;
}

.logs::-webkit-scrollbar-thumb {
  background: rgba(0, 212, 255, 0.3);
  border-radius: 4px;
}

.logs::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 212, 255, 0.5);
}

table {
  width: 100%;
  border-collapse: collapse;
}

th {
  background: rgba(0, 212, 255, 0.1);
  color: var(--accent-cyan);
  padding: 14px 12px;
  text-align: left;
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 1px;
  font-weight: 600;
  border-bottom: 2px solid rgba(0, 212, 255, 0.3);
}

td {
  padding: 12px;
  border-bottom: 1px solid rgba(0, 212, 255, 0.1);
  font-size: 13px;
  color: var(--text-primary);
}

tr:hover td {
  background: rgba(0, 212, 255, 0.05);
}

.stats-card canvas {
  width: 100% !important;
  height: 240px !important;
  margin: 20px 0;
}

.summary {
  display: grid;
  gap: 16px;
  margin-top: 24px;
  padding: 20px;
  background: rgba(0, 0, 0, 0.3);
  border-radius: 12px;
  border: 1px solid rgba(0, 212, 255, 0.1);
}

.summary > div {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 0;
  border-bottom: 1px solid rgba(0, 212, 255, 0.1);
  color: var(--text-secondary);
}

.summary > div:last-child {
  border-bottom: none;
}

.summary strong {
  color: var(--accent-cyan);
  font-size: 18px;
  font-weight: 700;
}

.settings-card label {
  display: block;
  color: var(--text-secondary);
  margin: 16px 0 8px;
  font-size: 13px;
  font-weight: 500;
}

.settings-card input {
  width: 100%;
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(0, 212, 255, 0.2);
  color: var(--text-primary);
  padding: 12px 16px;
  border-radius: 8px;
  font-size: 14px;
  transition: all 0.3s ease;
}

.settings-card input:focus {
  outline: none;
  border-color: var(--accent-cyan);
  box-shadow: 0 0 20px rgba(0, 212, 255, 0.2);
}

.settings-card input::placeholder {
  color: rgba(139, 149, 168, 0.5);
}

.settings-card input[type="checkbox"] {
  width: auto;
  accent-color: var(--accent-cyan);
}

#tgResult, #tgDebug {
  padding: 12px;
  border-radius: 8px;
  background: rgba(0, 0, 0, 0.3);
  border-left: 3px solid var(--accent-cyan);
  font-size: 12px;
  margin-top: 12px;
}

#tgDebug {
  border-left-color: var(--accent-pink);
  color: var(--accent-pink);
}

.mini {
  padding: 20px;
  text-align: center;
}

.footer {
  padding: 24px;
  text-align: center;
  color: var(--text-secondary);
  font-size: 13px;
  border-top: 1px solid rgba(0, 212, 255, 0.1);
  background: rgba(18, 23, 37, 0.5);
  backdrop-filter: blur(10px);
  position: relative;
  z-index: 1;
}

@media (max-width: 1024px) {
  .container {
    grid-template-columns: 1fr;
    padding: 20px;
    gap: 20px;
  }
  
  .topbar {
    padding: 20px;
  }
  
  .timer-actions {
    flex-direction: column;
  }
  
  button {
    width: 100%;
  }
}

@media (max-width: 640px) {
  #timeLarge {
    font-size: 48px;
  }
  
  .timer-opts {
    flex-direction: column;
    align-items: stretch;
  }
  
  .history-controls {
    flex-direction: column;
  }
}



/* Neon CyberUI accents for progress */
.daily-progress { margin-top: 16px; text-align: center; }
.daily-progress__meta { font-size: 14px; color: var(--text-primary); margin-bottom: 8px; font-weight:700; }
.daily-progress__target { font-size: 13px; color: var(--text-secondary); margin-top:6px; }
.progressWrap { width: 100%; height: 14px; background: rgba(255,255,255,0.03); border-radius: 12px; padding: 3px; box-shadow: inset 0 0 18px rgba(0,0,0,0.4); margin-top:8px; }
.progressBar { height: 100%; border-radius: 10px; background: linear-gradient(90deg, #00d4ff, #9d4edd); box-shadow: 0 6px 18px rgba(157,78,221,0.18); transition: width 600ms ease; }

/* Larger Today number */
#sumTodayLarge { font-size: 20px; color: white; display:inline-block; min-width:64px; }



/* ===== History Action Buttons - V11 PRO Theme (Patch) ===== */
/* Place this at the end of your existing styles.css */

#logsTable tbody td { vertical-align: middle; padding: 12px 8px; }

.actionCell {
  display: flex;
  gap: 8px;
  justify-content: flex-end;
  align-items: center;
  padding-right: 12px;
}

/* capsule buttons */
.actionBtn {
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 12px;
  border-radius:20px;
  border:0;
  cursor:pointer;
  font-weight:600;
  font-size:13px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.25);
  transition: transform .12s ease, box-shadow .12s ease, opacity .12s ease;
}

/* edit (teal/cyan) */
.actionBtn.edit {
  background: linear-gradient(90deg,#0dd1ff,#6b8cff);
  color: #041125;
}
.actionBtn.edit:hover { transform: translateY(-2px); box-shadow: 0 10px 26px rgba(11, 202, 255, 0.14); }

/* delete (pink/purple outline) */
.actionBtn.del {
  background: rgba(157,78,221,0.08);
  color: #ff66a3;
  border: 1px solid rgba(157,78,221,0.25);
}
.actionBtn.del:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(157,78,221,0.08); }

/* icon style (small SVG or emoji) */
.actionBtn svg { width:16px;height:16px;opacity:0.95; }

/* responsive: on small width show icon-only */
@media (max-width:720px){
  .actionBtn { padding:8px;border-radius:10px;font-size:12px; }
  .actionBtn span.text { display:none; } /* hide label, show icon only */
}

/* modal improvements */
#editModal > div {
  border: 1px solid rgba(255,255,255,0.04);
  box-shadow: 0 10px 40px rgba(2,6,23,0.6);
}
#editForm label { font-size:13px; color:var(--text-secondary); margin-top:8px; }
#editForm input { background: rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.04); padding:8px; border-radius:6px; width:100%; }


/* === NOAH345 Patch: Table header + action button colors === */
/* Add at end: makes table headers and action buttons white and aligns last column */
:root {
  --header-bg: #10344a; /* adjust if you prefer a different header color */
}

/* Force white text for table headers */
#logsTable thead th {
  color: #ffffff !important;
  padding: 14px 12px !important;
  background: var(--header-bg);
  border-bottom: 2px solid rgba(0,212,255,0.06);
}

/* Ensure action column header matches */
#logsTable thead th:last-child {
  text-align: center;
  background: var(--header-bg);
  color: #ffffff !important;
}

/* Ensure table cells align vertically */
#logsTable tbody td { vertical-align: middle; }

/* Force white text for action buttons and SVG icons */
.actionBtn.edit,
.actionBtn.del,
.actionBtn.edit span,
.actionBtn.del span,
.actionBtn.edit svg,
.actionBtn.del svg {
  color: #ffffff !important;
  stroke: #ffffff !important;
  fill: #ffffff !important;
}

/* Small tweak: make actionCell align content to center vertically */
.actionCell { align-items: center; }

/* Optional: slightly reduce button size on very small screens */
@media (max-width: 520px){
  .actionBtn { padding:6px 10px; font-size:12px; border-radius:12px; }
  #logsTable thead th { font-size:13px; }
}



/* Modal & form: force white text and light placeholders for better contrast */
#historyEditModal,
#historyEditModal * {
  color: #ffffff !important;
  box-sizing: border-box;
}

/* Inputs inside modal */
#historyEditModal input[type="text"],
#historyEditModal input[type="password"],
#historyEditModal input[type="datetime-local"],
#historyEditModal textarea,
#historyEditModal select {
  color: #ffffff !important;
  background: rgba(255,255,255,0.04) !important;
  border: 1px solid rgba(255,255,255,0.12) !important;
}

/* Placeholder color */
#historyEditModal input::placeholder,
#historyEditModal textarea::placeholder {
  color: rgba(255,255,255,0.65) !important;
}

/* Modal header */
#historyEditModal h3 {
  color: #ffffff !important;
  margin-bottom: 8px;
}

/* Buttons in modal: ensure text visible */
#historyEditModal .btn {
  color: #ffffff !important;
}

/* Make modal background slightly darker to increase contrast */
#historyEditModal > div {
  background: rgba(10,12,20,0.95) !important;
}



/* NOAH345 gradient button for modal save */
#historyEditModal .btn.primary {
  background: linear-gradient(135deg, #9d4edd 0%, #6b21a8 50%, #4c1d95 100%);
  box-shadow: 0 8px 24px rgba(157,78,221,0.25);
  border: 1px solid rgba(255,255,255,0.08);
  color: #fff !important;
}

/* Modal base (hidden by default but in DOM) */
#historyEditModal {
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transition: opacity 260ms ease, transform 260ms ease, visibility 260ms;
}

/* inner box animation - slide up */
#historyEditModal > div {
  transform: translateY(12px) scale(0.995);
  transition: transform 260ms cubic-bezier(.2,.9,.2,1), opacity 260ms ease;
  opacity: 0;
}

/* When open, show modal */
#historyEditModal.open {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
}
#historyEditModal.open > div {
  transform: translateY(0) scale(1);
  opacity: 1;
}

/* Fade overlay slightly darker for focus */
#historyEditModal {
  background: rgba(2,4,10,0.6) !important;
}

/* Add subtle pulse to primary button on hover */
#historyEditModal .btn.primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 30px rgba(109,40,217,0.28);
}

/* Smooth transitions for inputs focus */
#historyEditModal input:focus, #historyEditModal textarea:focus {
  outline: none;
  box-shadow: 0 6px 18px rgba(109,40,217,0.12);
  border-color: rgba(157,78,221,0.6) !important;
}

/* Ensure action buttons visible and spaced */
#historyEditModal .btn { min-width: 86px; }



/* ===== Modal Input Improved Visibility (NOAH345 v6) ===== */
#historyEditModal input[type="text"],
#historyEditModal input[type="datetime-local"],
#historyEditModal input[type="password"],
#historyEditModal textarea,
#historyEditModal select {
  background: rgba(255,255,255,0.08) !important;
  border: 1px solid rgba(255,255,255,0.25) !important;
  color: #ffffff !important;
  padding: 10px 14px !important;
  border-radius: 8px !important;
}

#historyEditModal input::placeholder,
#historyEditModal textarea::placeholder {
  color: rgba(255,255,255,0.55) !important;
}

#historyEditModal input:focus,
#historyEditModal textarea:focus {
  outline: none !important;
  border-color: #9d4edd !important;
  box-shadow: 0 0 12px rgba(157,78,221,0.55) !important;
}

/* Modal box brighter */
#historyEditModal > div {
  background: rgba(20,22,35,0.92) !important;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255,255,255,0.12);
}



/* Modal root styling (use class .open toggled) */
#historyEditModal {
  position: fixed;
  left: 0; top: 0; right: 0; bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(2,4,10,0.35);
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transition: opacity 320ms ease, visibility 320ms;
  z-index: 10000;
}

/* Glass-effect inner box */
#historyEditModal .modal-inner {
  width: 96%;
  max-width: 720px;
  background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 12px;
  padding: 18px;
  backdrop-filter: blur(10px) saturate(120%);
  -webkit-backdrop-filter: blur(10px) saturate(120%);
  box-shadow: 0 12px 40px rgba(12,12,20,0.6);
  transform: translateY(12px) scale(0.995);
  opacity: 0;
  transition: transform 520ms cubic-bezier(.2,.9,.2,1), opacity 320ms ease;
}

/* When open */
#historyEditModal.open {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
}
#historyEditModal.open .modal-inner {
  transform: translateY(0) scale(1);
  opacity: 1;
  animation: modalSpring 520ms cubic-bezier(.2,.9,.2,1);
}

/* spring-like keyframes */
@keyframes modalSpring {
  0% { transform: translateY(18px) scale(0.995); }
  60% { transform: translateY(-6px) scale(1.01); }
  100% { transform: translateY(0) scale(1); }
}

/* fields layout */
.modal-fields { display:flex; flex-direction:column; gap:12px; margin-top:8px; }
.field { display:flex; flex-direction:column; gap:6px; }
.field-label { font-size:13px; color: rgba(255,255,255,0.9); }

/* input with icon wrapper */
.input-icon-wrap { position:relative; display:flex; align-items:center; }
.input-icon { position:absolute; left:10px; top:50%; transform:translateY(-50%); font-size:18px; pointer-events:none; opacity:0.95; }
.input-icon + input { padding-left:42px !important; }

/* inputs inherit previous improved styles; ensure border-radius and padding */
#historyEditModal input, #historyEditModal textarea {
  width:100%;
  box-sizing:border-box;
  border-radius:8px;
  height:42px;
  font-size:14px;
}

/* modal actions align */
.modal-actions { display:flex; gap:10px; justify-content:flex-end; margin-top:8px; }

/* small icon on save button */
.btn-icon { margin-right:8px; }

/* ensure emoji icons look crisp on dark bg */
.input-icon { filter: drop-shadow(0 2px 4px rgba(0,0,0,0.6)); }

/* responsive tweaks */
@media (max-width:640px){
  #historyEditModal .modal-inner { padding:12px; }
  .modal-actions { flex-direction:column-reverse; gap:8px; }
}



/* Force datetime-local and related input text color to white across browsers */
/* Chrome / Edge / Safari (WebKit) */
input[type="datetime-local"],
input[type="date"],
input[type="time"],
input[type="datetime-local"]::placeholder,
input[type="date"]::placeholder,
input[type="time"]::placeholder {
  color: #ffffff !important;
  -webkit-text-fill-color: #ffffff !important;
}

/* WebKit specific internal parts for datetime display */
input[type="datetime-local"]::-webkit-datetime-edit,
input[type="datetime-local"]::-webkit-datetime-edit-field,
input[type="datetime-local"]::-webkit-datetime-edit-year-field,
input[type="datetime-local"]::-webkit-datetime-edit-month-field,
input[type="datetime-local"]::-webkit-datetime-edit-day-field,
input[type="datetime-local"]::-webkit-datetime-edit-hour-field,
input[type="datetime-local"]::-webkit-datetime-edit-minute-field,
input[type="datetime-local"]::-webkit-datetime-edit-ampm-field {
  color: #ffffff !important;
  -webkit-text-fill-color: #ffffff !important;
  background: transparent !important;
}

/* Firefox datetime (use color and appearance reset) */
input[type="datetime-local"]::-moz-focus-inner,
input[type="date"]::-moz-focus-inner {
  color: #ffffff !important;
}

/* ensure icon wrapper text also white */
.input-icon { color: #ffffff !important; }
/* ensure placeholder color consistent */
#historyEditModal input::placeholder, #historyEditModal textarea::placeholder {
  color: rgba(255,255,255,0.6) !important;
}

/* If browser applies shadow DOM or autofill, force fill color */
input:-webkit-autofill { -webkit-text-fill-color: #ffffff !important; transition: background-color 5000s ease-in-out 0s; }

</style>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>

<!-- SVG sprite: feather-like minimal icons -->
<svg aria-hidden="true" style="position:absolute;width:0;height:0;overflow:hidden" xmlns="http://www.w3.org/2000/svg">
  <symbol id="icon-calendar" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round">
    <rect x="3" y="4" width="18" height="18" rx="2"></rect>
    <path d="M16 2v4M8 2v4M3 10h18"></path>
  </symbol>
  <symbol id="icon-tag" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round">
    <path d="M20 12v6a2 2 0 0 1-2 2H10L4 12l6-8h8a2 2 0 0 1 2 2v6z"></path>
  </symbol>
  <symbol id="icon-note" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round">
    <path d="M21 15V6a2 2 0 0 0-2-2H7L3 8v9a2 2 0 0 0 2 2h11"></path>
    <path d="M7 10h8M7 14h5"></path>
  </symbol>
  <symbol id="icon-check" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M20 6L9 17l-5-5"></path>
  </symbol>
</svg>

  <header class="topbar">
    <div class="brand">
      <h1>NOAH345</h1>
      <div class="subtitle">Break Timer ‚Äî Neon CyberUI</div>
    </div>
    <nav class="nav">
      <button id="darkToggle" class="btn ghost">‡πÇ‡∏´‡∏°‡∏î‡∏°‡∏∑‡∏î</button>
      <button id="openProfile" class="btn ghost">‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</button>
    </nav>
  </header>

  <main class="container">
    <section class="leftPanel card">
      <div class="timerHeader">
        <select id="modeSelect" class="select">
          <option value="‡∏û‡∏±‡∏Å">‡∏û‡∏±‡∏Å</option>
          <option value="‡∏ó‡∏≥‡∏á‡∏≤‡∏ô">‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</option>
        </select>
        <div class="dailyTargetWrap">‡πÄ‡∏ß‡∏•‡∏≤‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô <input id="dailyTargetInput" type="number" min="0" value="60" /> ‡∏ô‡∏≤‡∏ó‡∏µ</div>
      </div>

      <div class="timerCard timer-display">
        <div id="timerLabel" class="status">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏û‡∏£‡πâ‡∏≠‡∏°</div>
        <div id="timeLarge" class="time">00:00:00</div>
        <div id="timeInfo" class="info">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤</div>
        <div class="daily-progress">
          <div class="daily-progress__meta">‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏û‡∏±‡∏Å‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß: <strong id="sumTodayLarge">0</strong> ‡∏ô‡∏≤‡∏ó‡∏µ</div>
          <div class="progressWrap"><div id="sumTodayBar" class="progressBar" role="progressbar" aria-valuemin="0" aria-valuemax="100" style="width:0%"></div></div>
          <div class="daily-progress__target">‡πÄ‡∏õ‡πâ‡∏≤‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô: <strong id="dailyTargetLabel">60</strong> ‡∏ô‡∏≤‡∏ó‡∏µ</div>
        </div>
      </div>

      <div class="actions">
        <button id="startBtn" class="btn primary large">‡πÄ‡∏£‡∏¥‡πà‡∏°</button>
        <button id="pauseBtn" class="btn alt large">‡∏û‡∏±‡∏Å/Resume</button>
        <button id="endBtn" class="btn warn large">‡∏à‡∏ö</button>
      </div>

      <div class="settingsGrid">
        <label>‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏£‡∏≠‡∏ö (‡∏ô‡∏≤‡∏ó‡∏µ)
          <input id="limitMinutes" type="number" min="1" value="30" />
        </label>
        <label>‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏Å‡πà‡∏≠‡∏ô (‡∏ô‡∏≤‡∏ó‡∏µ)
          <input id="warnBefore" type="number" min="0" value="5" />
        </label>
        <label>‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
          <input id="soundToggle" type="checkbox" checked />
        </label>
      </div>

      <div class="notes">
        <button id="manualToggle" class="btn ghost">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏ö‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á</button>
        <div id="manualForm" class="manual hidden">
          <input id="manualType" placeholder="‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó (‡πÄ‡∏ä‡πà‡∏ô ‡∏û‡∏±‡∏Å‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô)" />
          <input id="manualStart" type="datetime-local" />
          <input id="manualEnd" type="datetime-local" />
          <input id="manualNote" placeholder="‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)" />
          <div class="row">
            <button id="manualSave" class="btn primary">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
            <button id="manualCancel" class="btn ghost">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
          </div>
        </div>
      </div>
    </section>

    <aside class="rightPanel">
      <div class="card compact">
        <h3>Analytics</h3>
        <canvas id="chartDaily"></canvas>
        <div class="summary small">
‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: <strong id="sumRemainBarText">0</strong> ‡∏ô‡∏≤‡∏ó‡∏µ
          ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ: <strong id="sumToday">0</strong> ‡∏ô‡∏≤‡∏ó‡∏µ &nbsp;|&nbsp;
          ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå: <strong id="sumWeek">0</strong> ‡∏ô‡∏≤‡∏ó‡∏µ &nbsp;|&nbsp;
          ‡∏£‡∏ß‡∏°: <strong id="sumAll">0</strong> ‡∏ô‡∏≤‡∏ó‡∏µ
        </div>
      </div>

      <div class="card compact">
        <h3>‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô & Telegram</h3>
        <label>Bot Token: <input id="tgToken" placeholder="123456:ABC" /></label>
        <label>Chat ID: <input id="tgChatId" placeholder="987654321" /></label>
        <label>Proxy URL (optional): <input id="proxyUrl" placeholder="https://your-proxy.example.com/send" /></label>
        <div class="row small">
          <label><input type="checkbox" id="sendStartNotif" checked /> ‡∏™‡πà‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏¥‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°</label>
          <label><input type="checkbox" id="sendNearNotif" checked /> ‡∏™‡πà‡∏á‡πÉ‡∏Å‡∏•‡πâ‡∏´‡∏°‡∏î</label>
          <label><input type="checkbox" id="sendEndNotif" checked /> ‡∏™‡πà‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏¥‡∏≠‡∏à‡∏ö</label>
        </div>
        <div class="row">
          <button id="testTg" class="btn primary">‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡πà‡∏á</button>
          <button id="clearTg" class="btn ghost">‡∏•‡πâ‡∏≤‡∏á</button>
        </div>
        <div id="tgResult" class="small debug"></div>
      </div>

      <div class="card compact">
        <h3>History</h3>
        <div class="filters">
          <input type="date" id="filterStart" />
          <input type="date" id="filterEnd" />
          <button id="applyFilter" class="btn ghost">‡∏Å‡∏£‡∏≠‡∏á</button>
        </div>
        <div class="logs"><table id="logsTable"><thead><tr><th>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</th><th>‡πÄ‡∏£‡∏¥‡πà‡∏°</th><th>‡∏à‡∏ö</th><th>‡∏ô‡∏≤‡∏ó‡∏µ</th><th>‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥</th></tr></thead><tbody></tbody></table></div>
        <div class="row">
          <button id="exportCsv" class="btn ghost">Export CSV</button>
          <button id="clearAll" class="btn danger">‡∏•‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
        </div>
      </div>

      <div class="card compact small">
        <div>‡πÇ‡∏Æ‡∏™‡∏ï‡πå‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå: ‡∏ô‡πâ‡∏≠‡∏á‡πÅ‡∏ô‡∏ö proxy Node.js ‡πÉ‡∏´‡πâ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (‡∏î‡∏π README)</div>
        <div class="small">‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ô server (localhost) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ Notification ‡πÅ‡∏•‡∏∞ Telegram ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</div>
      </div>
    </aside>
  </main>

  <footer class="footer small">NOAH345 üíú ‚Äî V11 PRO ‚Ä¢ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï UI ‡πÅ‡∏•‡∏∞‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÉ‡∏´‡πâ‡πÇ‡∏Æ‡∏™‡∏ï‡πå‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå‡πÑ‡∏î‡πâ</footer>

<script src="app.js"></script>

<!-- Edit/Delete Modal (injected by assistant) -->
<div id="editModal" style="display:none;position:fixed;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,0.6);align-items:center;justify-content:center;z-index:9999;">
 <div style="background:var(--bg-card);padding:20px;border-radius:10px;min-width:320px;color:var(--text-primary);">
   <h3>‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</h3>
   <form id="editForm">
     <input type="hidden" id="editIndex">
     <label>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó <input id="editType"></label>
     <label>‡πÄ‡∏£‡∏¥‡πà‡∏° <input id="editStart" type="datetime-local"></label>
     <label>‡∏à‡∏ö <input id="editEnd" type="datetime-local"></label>
     <label>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ <input id="editNote"></label>
     <div style="display:flex;gap:10px;justify-content:flex-end;margin-top:10px;">
       <button type="button" id="editCancel" class="btn ghost">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
       <button type="submit" class="btn primary">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
     </div>
   </form>
 </div>
</div>


<!-- Edit/Delete History Modal -->
<div id="historyEditModal" style="display:none;position:fixed;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,0.6);align-items:center;justify-content:center;z-index:10000;">
  <div style="background:var(--bg-card);padding:18px;border-radius:10px;min-width:320px;max-width:680px;color:var(--text-primary);">
    <h3 style="margin-top:0;">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</h3>
    <div style="display:flex;flex-direction:column;gap:8px;">
      <label>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó<br/><input id="edit_type" type="text" style="width:100%;padding:8px;border-radius:6px;border:1px solid #ddd;" /></label>
      <label>‡πÄ‡∏£‡∏¥‡πà‡∏° (ISO)<br/><input id="edit_start" type="datetime-local" style="width:100%;padding:8px;border-radius:6px;border:1px solid #ddd;" /></label>
      <label>‡∏à‡∏ö (ISO)<br/><input id="edit_end" type="datetime-local" style="width:100%;padding:8px;border-radius:6px;border:1px solid #ddd;" /></label>
      <label>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏<br/><input id="edit_note" type="text" style="width:100%;padding:8px;border-radius:6px;border:1px solid #ddd;" /></label>
      <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:6px;">
        <button id="edit_save" class="btn primary">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
        <button id="edit_delete" class="btn danger">‡∏•‡∏ö</button>
        <button id="edit_cancel" class="btn ghost">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
      </div>
    </div>
  </div>
</div>

</body>
</html>
